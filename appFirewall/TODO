TO DO

short term:
- check operation with SIPS enabled, will fall back to not using dtrace
- distribute baseline dns_conn_cache (covering apple apps etc) with app

longer term:
- try use of network extensions - avoid tcp RSTs on new connections ?  only for cataline onwards though
- resetting of quic connections.  https://tools.ietf.org/html/draft-ietf-quic-transport-22#section-19.19
- compress log samples uploaded to server?
- UI remove dock item, but need to create menu when open window from status bar.  main problem is how to let user control statusbar vs dock -- another pref pane just for this ?

check for mem leak when load URLs e.g. refresh hostlists, check for updates

2019-12-04 13:58:02.681185+0000 appFirewall[51399:2226176] *** Assertion failure in -[NSNibExternalObjectPlaceholder initWithCoder:], /BuildRoot/Library/Caches/com.apple.xbs/Sources/AppKit/AppKit-1671.60.109/AppKit.subproj/Storyboarding/NSNibExternalObjectPlaceholder.m:75
2019-12-04 13:58:02.683991+0000 appFirewall[51399:2226176] [General] Missing placeholder for identifier 'UpstreamPlaceholder-DdK-NQ-2bC'
2019-12-04 13:58:02.704117+0000 appFirewall[51399:2226176] [General] (
	0   CoreFoundation                      0x00007fff4a8f9acd __exceptionPreprocess + 256
	1   libobjc.A.dylib                     0x00007fff74ffba17 objc_exception_throw + 48
	2   CoreFoundation                      0x00007fff4a9147e6 +[NSException raise:format:arguments:] + 98
	3   Foundation                          0x00007fff4cbb5791 -[NSAssertionHandler handleFailureInMethod:object:file:lineNumber:description:] + 194
	4   AppKit                              0x00007fff488d4097 -[NSNibExternalObjectPlaceholder initWithCoder:] + 388
	5   Foundation                          0x00007fff4caabfb1 _decodeObjectBinary + 2649
	6   Foundation                          0x00007fff4caad908 -[NSKeyedUnarchiver _decodeArrayOfObjectsForKey:] + 1682
	7   Foundation                          0x00007fff4caadf3a -[NSDictionary(NSDictionary) initWithCoder:] + 204
	8   Foundation                          0x00007fff4caabfb1 _decodeObjectBinary + 2649
	9   Foundation                          0x00007fff4caad908 -[NSKeyedUnarchiver _decodeArrayOfObjectsForKey:] + 1682
	10  Foundation                          0x00007fff4caadf3a -[NSDictionary(NSDictionary) initWithCoder:] + 204
	11  Foundation                          0x00007fff4caabfb1 _decodeObjectBinary + 2649
	12  Foundation                          0x00007fff4caab437 _decodeObject + 246
	13  Foundation                          0x00007fff4caab333 -[NSKeyedUnarchiver decodeObjectForKey:] + 205
	14  AppKit                              0x00007fff47e8dba3 -[NSTableView initWithCoder:] + 2365
	15  Foundation                          0x00007fff4caabfb1 _decodeObjectBinary + 2649
	16  Foundation                          0x00007fff4caad908 -[NSKeyedUnarchiver _decodeArrayOfObjectsForKey:] + 1682
	17  Foundation                          0x00007fff4caaceb7 -[NSArray(NSArray) initWithCoder:] + 198
	18  Foundation                          0x00007fff4caabfb1 _decodeObjectBinary + 2649
	19  Foundation                          0x00007fff4caab437 _decodeObject + 246
	20  Foundation                          0x00007fff4caab333 -[NSKeyedUnarchiver decodeObjectForKey:] + 205
	21  AppKit                              0x00007fff47e7927a -[NSView initWithCoder:] + 1850
	22  AppKit                              0x00007fff47e8c95d -[NSClipView initWithCoder:] + 56
	23  Foundation                          0x00007fff4caabfb1 _decodeObjectBinary + 2649
	24  Foundation                          0x00007fff4caad908 -[NSKeyedUnarchiver _decodeArrayOfObjectsForKey:] + 1682
	25  Foundation                          0x00007fff4caaceb7 -[NSArray(NSArray) initWithCoder:] + 198
	26  Foundation                          0x00007fff4caabfb1 _decodeObjectBinary + 2649
	27  Foundation                          0x00007fff4caab437 _decodeObject + 246
	28  Foundation                          0x00007fff4caab333 -[NSKeyedUnarchiver decodeObjectForKey:] + 205
	29  AppKit                              0x00007fff47e7927a -[NSView initWithCoder:] + 1850
	30  AppKit                              0x00007fff47e8b2c8 -[NSScrollView initWithCoder:] + 271
	31  Foundation                          0x00007fff4caabfb1 _decodeObjectBinary + 2649
	32  Foundation                          0x00007fff4caad908 -[NSKeyedUnarchiver _decodeArrayOfObjectsForKey:] + 1682
	33  Foundation                          0x00007fff4caaceb7 -[NSArray(NSArray) initWithCoder:] + 198
	34  Foundation                          0x00007fff4caabfb1 _decodeObjectBinary + 2649
	35  Foundation                          0x00007fff4caab437 _decodeObject + 246
	36  Foundation                          0x00007fff4caab333 -[NSKeyedUnarchiver decodeObjectForKey:] + 205
	37  AppKit                              0x00007fff47e7927a -[NSView initWithCoder:] + 1850
	38  AppKit                              0x00007fff47e7a89c -[NSClassSwapper initWithCoder:] + 602
	39  Foundation                          0x00007fff4caabfb1 _decodeObjectBinary + 2649
	40  Foundation                          0x00007fff4caab437 _decodeObject + 246
	41  Foundation                          0x00007fff4caab333 -[NSKeyedUnarchiver decodeObjectForKey:] + 205
	42  AppKit                              0x00007fff47e301a0 -[NSNibConnector initWithCoder:] + 96
	43  AppKit                              0x00007fff47e30028 -[NSNibOutletConnector initWithCoder:] + 76
	44  Foundation                          0x00007fff4caabfb1 _decodeObjectBinary + 2649
	45  Foundation                          0x00007fff4caad908 -[NSKeyedUnarchiver _decodeArrayOfObjectsForKey:] + 1682
	46  Foundation                          0x00007fff4caaceb7 -[NSArray(NSArray) initWithCoder:] + 198
	47  Foundation                          0x00007fff4caabfb1 _decodeObjectBinary + 2649
	48  Foundation                          0x00007fff4caab437 _decodeObject + 246
	49  Foundation                          0x00007fff4caab333 -[NSKeyedUnarchiver decodeObjectForKey:] + 205
	50  AppKit                              0x00007fff47e2ec68 -[NSIBObjectData initWithCoder:] + 201
	51  Foundation                          0x00007fff4caabfb1 _decodeObjectBinary + 2649
	52  Foundation                          0x00007fff4caab437 _decodeObject + 246
	53  Foundation                          0x00007fff4caab333 -[NSKeyedUnarchiver decodeObjectForKey:] + 205
	54  AppKit                              0x00007fff47fc1f37 -[NSNib _instantiateNibWithExternalNameTable:options:] + 535
	55  AppKit                              0x00007fff47fc1c23 -[NSNib _instantiateWithOwner:options:topLevelObjects:] + 136
	56  AppKit                              0x00007fff47fc0e8d -[NSViewController loadView] + 343
	57  AppKit                              0x00007fff47fbcd7c -[NSViewController _loadViewIfRequired] + 72
	58  AppKit                              0x00007fff47fbccea -[NSViewController view] + 30
	59  AppKit                              0x00007fff480f3e83 -[NSTabViewController _goodTabViewContentSize] + 254
	60  AppKit                              0x00007fff480f3b58 -[NSTabViewController viewDidLoad] + 83
	61  AppKit                              0x00007fff47fbdbaf -[NSViewController _sendViewDidLoad] + 94
	62  AppKit                              0x00007fff47fbceb5 -[NSViewController _loadViewIfRequired] + 385
	63  AppKit                              0x00007fff47fbccea -[NSViewController view] + 30
	64  AppKit                              0x00007fff48724b1b +[NSWindow windowWithContentViewController:] + 41
	65  appFirewall                         0x000000010005e427 $sSo8NSWindowC21contentViewControllerABSo06NSViewD0C_tcfCTO + 39
	66  appFirewall                         0x00000001000622b0 $s11appFirewall11AppDelegateC7openappyyypSgF + 736
	67  appFirewall                         0x000000010006282f $s11appFirewall11AppDelegateC7openappyyypSgFTo + 175
	68  AppKit                              0x00007fff4812b644 -[NSApplication(NSResponder) sendAction:to:from:] + 312
	69  AppKit                              0x00007fff48195992 -[NSControl sendAction:to:] + 86
	70  AppKit                              0x00007fff481940e1 -[NSCell trackMouse:inRect:ofView:untilMouseUp:] + 2375
	71  AppKit                              0x00007fff481c229c -[NSButtonCell trackMouse:inRect:ofView:untilMouseUp:] + 698
	72  AppKit                              0x00007fff485fe5da -[NSStatusBarButtonCell trackMouse:inRect:ofView:untilMouseUp:] + 305
	73  AppKit                              0x00007fff48192b1e -[NSControl mouseDown:] + 791
	74  AppKit                              0x00007fff4806e937 -[NSWindow(NSEventRouting) _handleMouseDownEvent:isDelayedEvent:] + 5724
	75  AppKit                              0x00007fff47fa51a6 -[NSWindow(NSEventRouting) _reallySendEvent:isDelayedEvent:] + 2295
	76  AppKit                              0x00007fff47fa4667 -[NSWindow(NSEventRouting) sendEvent:] + 478
	77  AppKit                              0x00007fff48600eea -[NSStatusBarWindow sendEvent:] + 347
	78  AppKit                              0x00007fff47e43e4b -[NSApplication(NSEvent) sendEvent:] + 331
	79  AppKit                              0x00007fff47e325c0 -[NSApplication run] + 755
	80  AppKit                              0x00007fff47e21ac8 NSApplicationMain + 777
	81  appFirewall                         0x000000010006856d main + 13
	82  libdyld.dylib                       0x00007fff767ca3d5 start + 1
